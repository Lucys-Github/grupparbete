<script setup>
    import { ref } from 'vue'
    import SideMenu from './SideMenu.vue'
    import CartMenu from './CartMenu.vue'
    import { useRouter } from 'vue-router'
    const sideMenuActive = ref(false)
    const cartMenuActive = ref(false)
    const searchInput = ref('')

    const router = useRouter()
    const handleSideMenuActivation = () => {
        sideMenuActive.value = !sideMenuActive.value
    }

    const handleCartMenuActivation = () => {
        cartMenuActive.value = !cartMenuActive.value
    }

    const handleSearch = () => {
        router.push({ path: '/search/all/' + searchInput.value })
        console.log(searchInput.value)
    }

</script>

<template>
    <div id="navbar" class="z-50 text-[#f5f5f5] top-0">
        <SideMenu
            :side-menu-active="sideMenuActive"
            @handle-side-menu-activation="handleSideMenuActivation"
        />

        <CartMenu
            :cart-menu-active="cartMenuActive"
            @handle-cart-menu-activation="handleCartMenuActivation"
        />

        <div
            id="navbar-top-container"
            class="flex items-center bg-[#1c1c1c] p-3"
        >
            <div id="navbar-left" class="flex-1 flex justify-center">
                <div id="input-container" class="relative max-md:hidden">
                    <input
                        type="text"
                        class="w-64 h-10 rounded-full pl-10 text-black"
                        placeholder="Search"
                        v-model="searchInput"
                        @keyup.enter="handleSearch"
                    />
                    <img
                        src="/src/assets/icons/search-icon.svg"
                        alt=""
                        class="absolute transition-all z-10 duration-500 pl-2 top-2 h-6"
                    />
                </div>

                <div
                    id="left-side-mobile"
                    class="flex max-sm:gap-3 gap-6 w-full ml-5 justify-start md:hidden"
                >
                    <img
                        src="/src/assets/icons/hamburger-icon.svg"
                        alt=""
                        class="h-6 cursor-pointer"
                        @click="handleSideMenuActivation"
                    />
                    <img
                        src="/src/assets/icons/search-icon-black.svg"
                        alt=""
                        class="h-6"
                    />
                </div>
            </div>
            <div id="navbar-center" class="flex flex-1 justify-center">
                <div id="logo-container" class="mx-5">
                    <router-link to="/"
                        ><img
                            src="/src/assets/logo.png"
                            alt="Cooler Clothes logo"
                            class="max-h-24 max-sm:my-3"
                    /></router-link>
                </div>
            </div>
            <div
                id="navbar-right"
                class="flex flex-1 justify-center gap-4 max-sm:gap-5 max-md:gap-9 max-md:justify-end max-md:mr-5 text-sm"
            >
                <div class="flex pr-1">
                    <img
                        src="/src/assets/icons/login-icon.svg"
                        alt="mask icon"
                        class="min-w-6"
                    />
                    <h2 class="pl-1 pt-0.5 max-md:hidden">Login</h2>
                </div>

                    <router-link to="/favorites/favorites">
                        <div class="flex pr-1">
                    <svg class="min-w-6 text-[#F5F5F5] hover:fill-[#FF007A] hover:scale-90 transition-transform duration-300 transform ease-in-out" viewBox="0 0 24 24"  fill="none"  stroke="currentColor">  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" /></svg><h2 class="pl-1 pt-0.5 max-md:hidden hover:text-[#ff007a]">Favorites</h2></div></router-link>

                <div
                    class="flex cursor-pointer pr-1"
                    @click="handleCartMenuActivation"
                >
                    <img
                        src="/src/assets/icons/cart-icon.svg"
                        alt="Shopping bag icon"
                        class="min-w-6"
                    />
                    <h2 class="pl-1 pt-0.5 max-md:hidden">Cart</h2>
                </div>
            </div>
        </div>
        <div
            id="navbar-bottom-container"
            class="h-9 max-md:hidden bg-[#0c0c0c] p-5"
        >
            <ul
                class="flex gap-5 h-full justify-center items-center font-inter font-semibold text-xs"
            >
                <li>
                    <router-link
                        to="/search/jackets"
                        class="p-4 hover:text-[#ff007a]"
                        >JACKETS</router-link
                    >
                </li>
                <li>
                    <router-link
                        to="/search/hoodies"
                        class="p-4 hover:text-[#ff007a]"
                        >HOODIES</router-link
                    >
                </li>
                <li>
                    <router-link
                        to="/search/shirts"
                        class="p-4 hover:text-[#ff007a]"
                        >SHIRTS</router-link
                    >
                </li>
                <li>
                    <router-link
                        to="/search/pants"
                        class="p-4 hover:text-[#ff007a]"
                        >PANTS</router-link
                    >
                </li>
                <li>
                    <router-link
                        to="/search/accessories"
                        class="p-4 hover:text-[#ff007a]"
                        >ACCESSORIES</router-link
                    >
                </li>
            </ul>
        </div>
    </div>
</template>
